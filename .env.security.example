# Environment Template untuk Security Enhancement
# Copy ke .env dan adjust sesuai environment

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

APP_NAME="UPT2 Sistem Permohonan"
APP_ENV=production
APP_DEBUG=false
APP_URL=http://localhost

# ============================================================================
# ENCRYPTION & SECURITY
# ============================================================================

APP_KEY=base64:YOUR_32_CHARACTER_KEY_HERE
CIPHER=AES-256-CBC

# ============================================================================
# DATABASE
# ============================================================================

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=skripsi
DB_USERNAME=root
DB_PASSWORD=

# ============================================================================
# SESSION CONFIGURATION (SECURITY CRITICAL)
# ============================================================================

# Session Driver: database (recommended for security)
SESSION_DRIVER=database

# Session Lifetime: 120 minutes for admin users
SESSION_LIFETIME=120

# Expire session when browser closes
SESSION_EXPIRE_ON_CLOSE=false

# Session Table Name
SESSION_TABLE=sessions

# Session Connection
SESSION_CONNECTION=mysql

# ============================================================================
# SESSION SECURITY SETTINGS (RECOMMENDED)
# ============================================================================

# Enable Session Encryption - REQUIRED for production
# ✅ This encrypts all session data stored in database
SESSION_ENCRYPT=true

# HTTPS Only Cookies - Set to true in production
# ✅ Prevents session cookies from being sent over HTTP
SESSION_SECURE_COOKIE=false
# SESSION_SECURE_COOKIE=true  # Uncomment for HTTPS

# HTTP Only Cookie Access
# ✅ Prevents JavaScript from accessing session cookie
SESSION_HTTP_ONLY=true

# Same-Site Cookie Policy
# Options: 'lax' (default), 'strict', 'none'
# ✅ 'lax' = good balance between security and usability
# ✅ 'strict' = maximum CSRF protection (may break some features)
SESSION_SAME_SITE=lax
# SESSION_SAME_SITE=strict  # Uncomment for production

# Session Cookie Name
SESSION_COOKIE=skripsi_session

# Session Cookie Domain
SESSION_DOMAIN=

# Session Cookie Path
SESSION_PATH=/

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

CACHE_DRIVER=file
CACHE_STORE=file

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================

QUEUE_CONNECTION=sync

# ============================================================================
# MAIL CONFIGURATION
# ============================================================================

MAIL_MAILER=log
MAIL_HOST=mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@upt2.local"
MAIL_FROM_NAME="${APP_NAME}"

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================

FILESYSTEM_DISK=public

# Maximum file size in KB (10MB)
FILE_UPLOAD_MAX_SIZE=10240

# Allowed file types (comma separated)
FILE_UPLOAD_ALLOWED_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png

# ============================================================================
# PAYMENT GATEWAY CONFIGURATION
# ============================================================================

DUITKU_MERCHANT_CODE=
DUITKU_API_KEY=
DUITKU_SIGNATURE_KEY=
DUITKU_ENVIRONMENT=development

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

LOG_CHANNEL=single
LOG_LEVEL=debug

# Enable audit logging
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90

# ============================================================================
# NOTES
# ============================================================================

# Security Best Practices:
#
# 1. SESSION_ENCRYPT=true
#    - Encrypts all session data in database
#    - Required for production
#
# 2. SESSION_SECURE_COOKIE=true (HTTPS only)
#    - Set to 'true' when HTTPS is available
#    - Prevents cookies from being sent over HTTP
#
# 3. SESSION_SAME_SITE settings:
#    - 'lax' = Default, good for most applications
#    - 'strict' = Maximum CSRF protection
#    - 'none' = Only use if you need cross-site requests
#
# 4. SESSION_LIFETIME
#    - Admin users: 120 minutes (2 hours)
#    - Regular users: 60 minutes (1 hour)
#    - API tokens: 30 minutes
#
# 5. APP_KEY
#    - Generate with: php artisan key:generate
#    - Must be 32-character random string
#    - Keep this SECRET - never commit to version control
#
# 6. APP_DEBUG
#    - Set to 'false' in production
#    - Never expose detailed errors to end users
#
# For Production Environment:
# - Replace 'production' with your actual APP_ENV value
# - Set SESSION_SECURE_COOKIE=true (HTTPS required)
# - Set SESSION_SAME_SITE=strict
# - Set APP_DEBUG=false
# - Set LOG_LEVEL=warning or error
# - Setup error monitoring (Sentry, etc.)
# - Enable rate limiting
